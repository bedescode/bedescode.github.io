<!DOCTYPE html>
<html>

<head>
    

<title> 02 I&#39;m a pano with video example! </title>
<meta name="description" content="I&#39;m a description!" />


    <meta name="viewport"
        content="target-densitydpi=device-dpi, width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui" />
    <style>
        @-ms-viewport {
            width: device-width;
        }
    </style>
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/style.css">
</head>

<body>
    <div id="pano"></div>

    <script src="../../js/es5-shim.min.js"></script>
    <script src="../../js/eventShim.js"></script>
    <script src="../../js/rAF.js"></script>
    <script src="../../js/marzipano.js"></script>

    




<div  style="position: absolute;"><p id="debug" style="background-color: white; font-size:x-large"></p></div>


<div id="media" style="background-color: #444; position: relative; width: 720px; height: 480px">
  <iframe width=100% height=100% src="https://drive.google.com/file/d/1652xs7fYeYp6yriKzMN6B5Cqp7mKbDAx/preview"></iframe>
</div>



<div id="debugpoint" style="background-color: yellow; width: 50px; height: 50px; position:relative"></div>


<script>
  'use strict';

  
  var viewer = new Marzipano.Viewer(document.getElementById('pano'));

  
  var source = Marzipano.ImageUrlSource.fromString(
    "//u.cubeupload.com/acanalis/panotest3.jpg"
  );

  
  var geometry = new Marzipano.EquirectGeometry([{ width: 4000 }]);

  
  var limiter = Marzipano.RectilinearView.limit.traditional(1024, 100 * Math.PI / 180);
  var view = new Marzipano.RectilinearView({ yaw:  1.54  }, limiter);

  
  var scene = viewer.createScene({
    source: source,
    geometry: geometry,
    view: view,
    pinFirstLevel: true
  });

  
  scene.switchTo();

  
  var container = scene.hotspotContainer();

  
  container.createHotspot(document.getElementById('media'), { yaw:  1.54 , pitch:  0  },
    { perspective: { radius:  480 / 0.75 , 
     extraTransforms: ""}});
  
  

var h = container.createHotspot(document.getElementById('debugpoint'), { yaw: 0, pitch: 0 },
    { perspective: { radius: 2000, 
     extraTransforms: "",}});

setInterval(displayPosition,30);

function displayPosition() {
  var num = viewer.view();
  document.getElementById("debug").innerHTML = "yaw:" + num.yaw().toFixed(2) + " - pitch:" + num.pitch().toFixed(2) ;
  h.setPosition({yaw:num.yaw(), pitch: num.pitch()});
}

</script>


</body>

</html>