<!DOCTYPE html>
<html>

<head>
    
<title> Class 3 </title>
<meta name="description" content="" />

    <meta name="viewport"
        content="target-densitydpi=device-dpi, width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui" />
    <style>
        @-ms-viewport {
            width: device-width;
        }
    </style>
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/button.css">
</head>

<body>
    <div id="pano"></div>

    <script src="../../js/es5-shim.min.js"></script>
    <script src="../../js/eventShim.js"></script>
    <script src="../../js/rAF.js"></script>
    <script src="../../js/marzipano.js"></script>

    



<div id="screen" style="background-color: #444; position: relative; width: 720px; height: 480px">
     <p id="drag" class= "cartel">ðŸ¡„ Drag! ðŸ¡†</p>
     <iframe id="content" width=100% height=100% src="https://drive.google.com/file/d/1EMNHkLYR311APoJ7SrLtepZfMY9pLw-l/preview"></iframe>
     <p id="student">1- Alejandro de Mendoza - intro video</p>
     <div id="btn-group">  
     <button class="mc-button" data-student="1- Alejandro de Mendoza - intro video" data-src="1EMNHkLYR311APoJ7SrLtepZfMY9pLw-l"></button>
     <button class="mc-button" data-student="Catalina del C." data-src="1tIrB1bD1ghIWYD2EDusRTwvsgppJPAlb"></button>
     <button class="mc-button" data-student="Catalina M." data-src="1v4RJNBZ8xb0zFTgIjnuBt4eKUt8TFT4d"></button>
     <button class="mc-button" data-student="Delfina I." data-src="1hvEfal2zK3UfclZZAQw10OR3vU7-6AK1"></button>
     <button class="mc-button" data-student="Delfina I." data-src="1zXhawNKBrrEYrXekPsjmQ6gDisY0VGAI"></button>
     <button class="mc-button" data-student="Ines M. G." data-src="1AkZ5fH4owAh9bPNuwI-pDYfp4T131de_"></button>
     <button class="mc-button" data-student="Jacinta M." data-src="1tjLs_cjdiiOQW7QrdlQcbvZnDiTU5mMq"></button>
     <button class="mc-button" data-student="Jacinta M." data-src="1sVqadhmgestkr7yNaRotGDycSBDiQECM"></button>
     <button class="mc-button" data-student="Jacinta M. - Josefina C." data-src="1YUAH8e5Sa0iok1D2y7dT3Mx2Eb4IFI72"></button>
     <button class="mc-button" data-student="Leonardo Y." data-src="1mkVaCxNb7jFvpTwMRjMKW68DhXpLyaJw"></button>
     <button class="mc-button" data-student="Margarita B." data-src="1xZAcRhLZFC0aZ2OzJjZDgV96Tl8wHtbh"></button>
     <button class="mc-button" data-student="Matias M." data-src="1iAqVPfLYiJrb-rUL4ukjwqIMs-fbvxTo"></button>
     <button class="mc-button" data-student="Mia R.L.G." data-src="114K981bIlMo9mZqwkCq5rjUIQjOXo8i2"></button>
     <button class="mc-button" data-student="Paulina L." data-src="1htk0snAggYXyrMwGyuTwMSzA6nb9x-wa"></button>
     <button class="mc-button" data-student="Pedro C." data-src="1C10KihmxmV_xUCwNvjwCY8c71r7w5euq"></button>
     <button class="mc-button" data-student="Ramiro I." data-src="19HyLsq3H8vEN875DbLjgjyVAi44qV2Fv"></button>
     <button class="mc-button" data-student="Rocio P. - JoaquÃ­n U. - TomÃ¡s F. C. " data-src="1rG-bLOiXpOuiWX8LITDOriYxtcPHd7eu"></button>
     <button class="mc-button" data-student="Salvador G." data-src="1NJgNXju9-iMHD8Nh1yaJt2v06WKf65nh"></button>
     <button class="mc-button" data-student="Ulises C." data-src="1ENEy2rGhrflMqVU5GNX3OTlvloKrVwPs"></button>
     <button class="mc-button" data-student="Vicente M." data-src="1vjwEZgisVRtO38uaYSgnohEyKKFCxNc-"></button>
     <button class="mc-button" data-student="Violeta B. - Paulina L." data-src="1fFbwkdAkLpmPk1GyUFcvrP6DeoHAPfUn"></button>
     
     <p id="notice" class= "cartel">ðŸ¡„Push!</p>
     </div>
     
</div>


<script>
     'use strict';
 
     
     var viewer = new Marzipano.Viewer(document.getElementById('pano'), { controls: { scrollZoom: false } });

     
     var source = Marzipano.ImageUrlSource.fromString("https:\/\/i.imgur.com\/zTjm5jo.jpg");

     
     var geometry = new Marzipano.EquirectGeometry([{ width: 4000 }]);

     
     var limiter = Marzipano.RectilinearView.limit.traditional(2024, 120 * Math.PI / 180);
     var view = new Marzipano.RectilinearView({yaw: -3.14 , pitch: 0 , fov: Math.PI/2.5 }, limiter);

     
     var scene = viewer.createScene({
          source: source,
          geometry: geometry,
          view: view,
          pinFirstLevel: true
     });

     
     scene.switchTo();

     
     var container = scene.hotspotContainer();

     
     var screen = container.createHotspot(document.getElementById("screen"), {yaw: -3.14 , pitch: 0 },
     {perspective: {radius:  480 / 0.75 , extraTransforms: "",}});

     
     const btnGroup = document.getElementById('btn-group');
     function updateSRC(event) {
          const isButton = event.target.nodeName === 'BUTTON';
          if (!isButton) {return;};
          var newsrc = `https:\/\/drive.google.com\/file\/d\/${event.target.dataset.src}\/preview`;
          document.getElementById("content").src = newsrc;
          document.getElementById("student").innerText = event.target.dataset.student;
     }
     btnGroup.addEventListener('click',updateSRC);
     
     
     

     
     const iframes = document.getElementsByTagName('iframe');
     const dragCtl = viewer.controls().method('mouseViewDrag').instance;

     dragCtl.addEventListener('active', () => {
     for (const el of iframes) {
          el.style.pointerEvents = 'none';
     }
     });

     dragCtl.addEventListener('inactive', () => {
     for (const el of iframes) {
          el.style.pointerEvents = 'all';
     }
     });
</script>



</body>

</html>