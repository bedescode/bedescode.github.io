<!DOCTYPE html>
<html>

<head>
    
<title>Hello from tornado!Art Room </title>
<meta name="description" content="" />

    <meta name="viewport"
        content="target-densitydpi=device-dpi, width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui" />
    <style>
        @-ms-viewport {
            width: device-width;
        }
    </style>
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/style.css">
</head>

<body>
    <div id="pano"></div>

    <script src="../../js/es5-shim.min.js"></script>
    <script src="../../js/eventShim.js"></script>
    <script src="../../js/rAF.js"></script>
    <script src="../../js/marzipano.js"></script>

    

<script>
     'use strict';
 
     
     var viewer = new Marzipano.Viewer(document.getElementById('pano'));

     
     var source = Marzipano.ImageUrlSource.fromString("https:\/\/i.imgur.com\/AjDwNIF.jpg");

     
     var geometry = new Marzipano.EquirectGeometry([{ width: 4000 }]);

     
     var limiter = Marzipano.RectilinearView.limit.traditional(1024, 100 * Math.PI / 180);
     var view = new Marzipano.RectilinearView({}, limiter);

     
     var scene = viewer.createScene({
          source: source,
          geometry: geometry,
          view: view,
          pinFirstLevel: true
     });

     
     scene.switchTo();

     var tornado = scene.hotspotContainer();
     var multimedia = JSON.parse("[{\"fileID\":\"1tEEVWxo1BfIrs0JnNxGZql4s30-pj-IH\",\"student\":\"image2\"},{\"fileID\":\"1m1ziujFGUxJDWicmnhPLbyCUejeG-ld4\",\"student\":\"JULIA PIEDRA\"},{\"fileID\":\"12P7GC1cat2xCVf5TPQ4LmI4vhlwrcc7d\",\"student\":\"Siena Surraco 3°B\"},{\"fileID\":\"1hJfa9XZynYSkeo78DaYCB_2PCdgo50Qh\",\"student\":\"Tomás Diaz Vidal 4°A\"},{\"fileID\":\"1-BLe8hRpQxBbDp8DMShsGxO4-S7iF3e5\",\"student\":\"Sebastián Batteria 5°B\"},{\"fileID\":\"1OBRpK5MODDLlxmFigaJGlzcGg75N5Hxz\",\"student\":\"Felix Klein 2°B\"},{\"fileID\":\"1UxE-Rsy0WgYbnoxEiDxtm6O6nI6thvDa\",\"student\":\"Vladko Senk 2°A\"},{\"fileID\":\"1jz0fpzoq_D27S2Cmp2iMEu83656p_CeL\",\"student\":\"Sofía Batteria 4°A\"},{\"fileID\":\"1z8ZbTabvtQMr4WyA2V-s8Mocygj14rpN\",\"student\":\"Bianca Orsi 2°B\"},{\"fileID\":\"1kXg6-258kwi92vGjSeBVHj8UtT14-eTl\",\"student\":\"Alexia Valdman 6° B\"},{\"fileID\":\"1DVZutgkqFKUjTpPz91kNcFJbmS_doheW\",\"student\":\"Esmeralda Masciotra 2°B\"},{\"fileID\":\"1soq2SwBQptz1pgnbvI2YDJul0tgar-ZO\",\"student\":\"Máximo Cabaña  2°B\"},{\"fileID\":\"1UitPN11bwmiBtQA-T1vtcXywSld1i1BN\",\"student\":\"Fausto Dittamo 2°B\"},{\"fileID\":\"14CHIBedOedKOvAQHaPykOMQsM64EEd9V\",\"student\":\"Romeo Rechini 2°B\"},{\"fileID\":\"1DKwG6N93J613A3zjlvo-bhT5Fzf3Zn-w\",\"student\":\"Julia Paolo 2°A\"},{\"fileID\":\"1iz931sG3as2DTaoyrmzlQ3I6wULuWFwh\",\"student\":\"Catalina Hourie Areso 3° A\"},{\"fileID\":\"1pLv_hVcmRpYaQDgLjqBHjEVA149HwMkN\",\"student\":\"Mirko Senk 5°A\"},{\"fileID\":\"1kqX5KAgt_GYRBRHdBpHwR7yo51knpP_w\",\"student\":\"Benjamín Silva Clemente 4°A\"},{\"fileID\":\"1Ni0_wOboWwgcUbhvXd9jYdDKYNg_6HX9\",\"student\":\"NATURE MATTERS (2 Oct 2020 15:02)\"},{\"fileID\":\"1EJsP6-rGgfF2fmRD5Tyoyj0zzlP3BOTM\",\"student\":\"CW FOR 1ST A  (2 oct\"},{\"fileID\":\"1W_xEWETgcP29Jpg09K2-qBRiATy-mmch\",\"student\":\"CW FOR 1ST A  (29 sep\"},{\"fileID\":\"17vzRtAYEXX5Z6neQZsh7MTAjIyNYPF5S\",\"student\":\"CW FOR 1ST A  (29 sept\"},{\"fileID\":\"1fc9r-Yyu2hF0hDfwHmFZz21vKPmyhQAx\",\"student\":\"CW FOR 1ST A  (29 sep\"},{\"fileID\":\"1KOGp-Walj3fZSVRa5gOvxsISi4K14Fop\",\"student\":\"Martina Belen Colapinto - Untitled document\"},{\"fileID\":\"1zq0LRYO2f-KhoD9KMnfRw8haFNYa5r06\",\"student\":\"pintura gero\"},{\"fileID\":\"1kfsbhI6aQVgmctl-IFZ7LW_gU6WL-11E\",\"student\":\"CW FOR 1ST A  (29 sep\"},{\"fileID\":\"1Eld8vfyMzuvkj1FGbEi2qgjG6vs3OA1o\",\"student\":\"Violeta BATISTONI - CW FOR 1ST A \"},{\"fileID\":\"1DHtDlgZuOj5R6-1cEH3I5YvdUp8il4pE\",\"student\":\"20201001_135118\"},{\"fileID\":\"1Q4qpITCzvdLs2O6FXqUaosy_Fcu1ns2i\",\"student\":\"CW FOR 1ST A  (29 sep\"},{\"fileID\":\"1G0mzca4bTglhKYKmRBkNg8Cirg_X5hhU\",\"student\":\"LAST DATE TO HAND IN \\\" THE EYE FOR THE MURAL \\\" TOMORROW 11/ 9 !!! (28 sep\"},{\"fileID\":\"1E_lX8pG7dWb1mwbFu8vZf91kVyM0szRR\",\"student\":\"20200928_114948\"},{\"fileID\":\"1ngNKaNcT68sf_MIL6f_R6IeLkByqboRZ\",\"student\":\"IMG_9311 2\"},{\"fileID\":\"1C5WtVksSrOQWVvFtcPk6Uhnm7petU0wr\",\"student\":\"CW FOR 1ST A  (28 sep\"},{\"fileID\":\"1IswiDv-E9lKaOnE5OkBi20ScvWtcyOK5\",\"student\":\"image1\"}]")
     const n = multimedia.length
     var i;
     for (i in multimedia){
          var m = document.createElement("div");
          m.style="width:100px; height:100px; background-color: yellow"
          var iframe = document.createElement("iframe")
          iframe.style =  "width:100%; height:100%;"
          var newsrc = `https:\/\/drive.google.com\/file\/d\/${multimedia[i].fileID}\/preview`
          iframe.src = newsrc
          var student = document.createElement("p");
          student.innerText = multimedia[i].student
          student.style = `position:relative; 
                           top: -20
                           font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
                           font-size: x-large;
                           color: white;`
          m.append(student)
          m.appendChild(iframe)
          let p = 0.4 * (0.5 - i/n) * Math.PI
          let y = i * 2.4
          tornado.createHotspot(m, {yaw:y , pitch: p},{perspective: {radius: 500}})
     }

     
  
     
 

     
     

     
      
     var dbp = document.createElement("div")
     dbp.style = "background-color: yellow; width: 50px; height: 50px; position: relative;"
     var dbhotspot = tornado.createHotspot(dbp, { yaw: 0, pitch: 0 },
     { perspective: { radius: 2000, extraTransforms: "",}});
     var dbtext = document.createElement("p")
     dbtext.style = "position: absolute; top: 0; left: 0; background-color: white;  font-size:x-large"
     document.body.appendChild(dbtext)
     setInterval(displayPosition,40)
     function displayPosition() {
          var num = viewer.view();
          dbtext.innerHTML = "yaw:" + num.yaw().toFixed(2) + " - pitch:" + num.pitch().toFixed(2) ;
          dbhotspot.setPosition({yaw:num.yaw(), pitch: num.pitch()});
     }
     
</script>



</body>

</html>